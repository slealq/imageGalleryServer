# Core dependencies
fastapi==0.109.2
uvicorn==0.27.1
python-multipart==0.0.9
Pillow==10.2.0
PyYAML>=6.0

# Image clustering dependencies
torch>=2.0.0
open-clip-torch>=2.20.0
hdbscan>=0.8.29
scikit-learn>=1.3.0,<1.4.0  # Pin to avoid compatibility issues
matplotlib>=3.7.0
seaborn>=0.12.0
tqdm>=4.65.0
numpy>=1.24.0
pandas>=2.0.0  # For Parquet format support
pyarrow>=10.0.0  # Required for Parquet files
umap-learn>=0.5.0  # Optional: for UMAP + HDBSCAN clustering
faiss-cpu>=1.7.0  # Optional: for fast similarity search (CPU version)
# For GPU acceleration, install faiss-gpu separately (see GPU_INSTALL.md):
# conda install -c pytorch faiss-gpu  
# OR: pip install faiss-gpu --extra-index-url https://download.pytorch.org/whl/cu118

# Pose extraction dependencies
opencv-python>=4.5.0  # Required for image processing in pose extraction
mediapipe>=0.10.0  # Google's MediaPipe for fast pose extraction with GPU acceleration

# Optional: Detectron2 for advanced multi-person pose detection
# Uncomment and install if you want to use Detectron2 (recommended for multi-person)
# git+https://github.com/facebookresearch/detectron2.git
# Note: Requires PyTorch (already included above) and CUDA-compatible GPU for best performance

# Optional: Ultralytics YOLO for state-of-the-art pose estimation and object detection
ultralytics>=8.0.0  # YOLO v8/v11 for pose estimation and additional object detection features

# Feature extraction dependencies
scikit-image>=0.19.0  # For advanced computer vision features (LBP, HOG, GLCM)
mahotas>=1.4.0  # For Haralick texture features

# Clustering dependencies
scikit-learn>=1.3.0,<1.4.0  # For clustering algorithms and metrics (already included above)
# hdbscan>=0.8.29  # Already included above - for HDBSCAN clustering
# Optional: Uncomment for additional clustering algorithms
# pip install hdbscan  # For density-based clustering

# Optional dependencies for AI caption generation
# Uncomment these lines if you want to use Unsloth for caption generation
# unsloth==2025.5.9
# transformers
# accelerate 